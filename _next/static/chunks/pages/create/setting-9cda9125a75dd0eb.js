(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[943],{5823:function(e,n,r){"use strict";var t=r(5318);n.Z=void 0;var i=t(r(4938)),c=r(5893),a=(0,i.default)((0,c.jsx)("path",{d:"M12 4c4.41 0 8 3.59 8 8s-3.59 8-8 8-8-3.59-8-8 3.59-8 8-8m0-2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 10V8h-2v4H8l4 4 4-4h-3z"}),"ArrowCircleDown");n.Z=a},4113:function(e,n,r){"use strict";var t=r(5318);n.Z=void 0;var i=t(r(4938)),c=r(5893),a=(0,i.default)((0,c.jsx)("path",{d:"M12 20c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m0 2c5.52 0 10-4.48 10-10S17.52 2 12 2 2 6.48 2 12s4.48 10 10 10zm-1-10v4h2v-4h3l-4-4-4 4h3z"}),"ArrowCircleUp");n.Z=a},5686:function(e,n,r){"use strict";r.d(n,{O:function(){return b},A:function(){return v}});var t=r(9008),i=r(2293),c=r(155),a=r(1163),o=r(3946),l=r(8862),s=r(214),d=r.n(s),u=r(724),f=r(4360),p=(0,r(7063).Z)({palette:{primary:{main:"#3f50b5"},secondary:{main:"#19857b"},background:{default:"#fff"}}}),m=r(6638),h=r(5893);function v(e){var n=(0,a.useRouter)();return(0,h.jsx)(f.Z,{theme:p,children:(0,h.jsxs)("div",{className:d().container,children:[(0,h.jsxs)(t.default,{children:[(0,h.jsx)("title",{children:"DA\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u30c7\u30e2"}),(0,h.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,h.jsx)(i.Z,{position:"static",elevation:0,color:"primary",children:(0,h.jsxs)(c.Z,{variant:"dense",children:[(0,h.jsx)(o.Z,{onClick:function(){return n.back()},color:"inherit",children:(0,h.jsx)(u.Z,{})}),(0,h.jsx)(l.Z,{variant:"h6",component:"div",sx:{flexGrow:1},color:"white",children:e.title}),(0,h.jsx)(o.Z,{onClick:function(){return n.push("/")},color:"inherit","aria-controls":"menu-appbar",children:(0,h.jsx)(m.Z,{})})]})}),(0,h.jsx)("main",{className:d().main,children:e.children})]})})}function b(e){var n=e.children;return(0,h.jsxs)("div",{className:d().container,children:[(0,h.jsxs)(t.default,{children:[(0,h.jsx)("title",{children:"DA\u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u30c7\u30e2"}),(0,h.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,h.jsx)("main",{className:d().main,children:n})]})}},7745:function(e,n,r){"use strict";r.d(n,{s:function(){return o},K:function(){return l}});var t=r(6242),i=r(4267),c=r(122),a=r(5893);function o(e){return(0,a.jsx)("div",{className:"mr-2 mb-2",children:(0,a.jsx)(c.Z,{href:e.href,style:{textDecoration:"none"},children:(0,a.jsx)(t.Z,{variant:"outlined",className:"w-48",children:(0,a.jsx)(i.Z,{children:e.children})})})})}function l(e){return(0,a.jsx)("div",{className:"mr-2 mb-2",children:(0,a.jsx)("div",{className:"inline-block rounded-full border-2 border-gray-200 px-2",children:e.children})})}},2896:function(e,n,r){"use strict";r.d(n,{H:function(){return t}});var t="http://54.248.214.244:8000"},4129:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return te}});var t=r(9499),i=r(29);function c(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function a(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"===typeof e)return c(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,n):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var o=r(7794),l=r.n(o),s=r(5686),d=r(1163),u=r(7745),f=r(7294),p=r(3366),m=r(7462),h=r(7192),v=r(1796),b=r(6010),x=r(8216),j=r(2151),Z=r(2627),y=r(4423),g=r(7739),k=r(8979),_=r(6087);function P(e){return(0,k.Z)("PrivateSwitchBase",e)}(0,_.Z)("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);var w=r(5893);const C=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],N=(0,j.ZP)(g.Z)((({ownerState:e})=>(0,m.Z)({padding:9,borderRadius:"50%"},"start"===e.edge&&{marginLeft:"small"===e.size?-3:-12},"end"===e.edge&&{marginRight:"small"===e.size?-3:-12}))),O=(0,j.ZP)("input")({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1});var z=f.forwardRef((function(e,n){const{autoFocus:r,checked:t,checkedIcon:i,className:c,defaultChecked:a,disabled:o,disableFocusRipple:l=!1,edge:s=!1,icon:d,id:u,inputProps:f,inputRef:v,name:j,onBlur:g,onChange:k,onFocus:_,readOnly:z,required:S,tabIndex:A,type:H,value:R}=e,I=(0,p.Z)(e,C),[E,F]=(0,Z.Z)({controlled:t,default:Boolean(a),name:"SwitchBase",state:"checked"}),B=(0,y.Z)();let D=o;B&&"undefined"===typeof D&&(D=B.disabled);const M="checkbox"===H||"radio"===H,V=(0,m.Z)({},e,{checked:E,disabled:D,disableFocusRipple:l,edge:s}),$=(e=>{const{classes:n,checked:r,disabled:t,edge:i}=e,c={root:["root",r&&"checked",t&&"disabled",i&&`edge${(0,x.Z)(i)}`],input:["input"]};return(0,h.Z)(c,P,n)})(V);return(0,w.jsxs)(N,(0,m.Z)({component:"span",className:(0,b.Z)($.root,c),centerRipple:!0,focusRipple:!l,disabled:D,tabIndex:null,role:void 0,onFocus:e=>{_&&_(e),B&&B.onFocus&&B.onFocus(e)},onBlur:e=>{g&&g(e),B&&B.onBlur&&B.onBlur(e)},ownerState:V,ref:n},I,{children:[(0,w.jsx)(O,(0,m.Z)({autoFocus:r,checked:t,defaultChecked:a,className:$.input,disabled:D,id:M&&u,name:j,onChange:e=>{if(e.nativeEvent.defaultPrevented)return;const n=e.target.checked;F(n),k&&k(e,n)},readOnly:z,ref:v,required:S,ownerState:V,tabIndex:A,type:H},"checkbox"===H&&void 0===R?{}:{value:R},f)),E?i:d]}))})),S=r(8169),A=(0,S.Z)((0,w.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),H=(0,S.Z)((0,w.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),R=(0,S.Z)((0,w.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox"),I=r(7623);function E(e){return(0,k.Z)("MuiCheckbox",e)}var F=(0,_.Z)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary"]);const B=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size"],D=(0,j.ZP)(z,{shouldForwardProp:e=>(0,j.FO)(e)||"classes"===e,name:"MuiCheckbox",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:r}=e;return[n.root,r.indeterminate&&n.indeterminate,"default"!==r.color&&n[`color${(0,x.Z)(r.color)}`]]}})((({theme:e,ownerState:n})=>(0,m.Z)({color:e.palette.text.secondary},!n.disableRipple&&{"&:hover":{backgroundColor:(0,v.Fq)("default"===n.color?e.palette.action.active:e.palette[n.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==n.color&&{[`&.${F.checked}, &.${F.indeterminate}`]:{color:e.palette[n.color].main},[`&.${F.disabled}`]:{color:e.palette.action.disabled}}))),M=(0,w.jsx)(H,{}),V=(0,w.jsx)(A,{}),$=(0,w.jsx)(R,{});var q=f.forwardRef((function(e,n){var r,t;const i=(0,I.Z)({props:e,name:"MuiCheckbox"}),{checkedIcon:c=M,color:a="primary",icon:o=V,indeterminate:l=!1,indeterminateIcon:s=$,inputProps:d,size:u="medium"}=i,v=(0,p.Z)(i,B),b=l?s:o,j=l?s:c,Z=(0,m.Z)({},i,{color:a,indeterminate:l,size:u}),y=(e=>{const{classes:n,indeterminate:r,color:t}=e,i={root:["root",r&&"indeterminate",`color${(0,x.Z)(t)}`]},c=(0,h.Z)(i,E,n);return(0,m.Z)({},n,c)})(Z);return(0,w.jsx)(D,(0,m.Z)({type:"checkbox",inputProps:(0,m.Z)({"data-indeterminate":l},d),icon:f.cloneElement(b,{fontSize:null!=(r=b.props.fontSize)?r:u}),checkedIcon:f.cloneElement(j,{fontSize:null!=(t=j.props.fontSize)?t:u}),ownerState:Z,ref:n},v,{classes:y}))})),L=r(8862),T=r(6945),G=r(1519),K=r(5113),Q=r(3946),U=r(3321),X=r(5823),Y=r(4113),J=r(9669),W=r.n(J),ee=r(2896);function ne(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function re(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?ne(Object(r),!0).forEach((function(n){(0,t.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ne(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function te(){var e=(0,d.useRouter)(),n={label:""},r=e.query,t=r.label,c=r.c,o=r.d,p=(0,f.useState)([]),m=p[0],h=p[1],v=(0,f.useState)([]),b=v[0],x=v[1];n.label=""===t?"\u65b0\u3057\u3044\u30d7\u30ed\u30b8\u30a7\u30af\u30c8":t;var j=[],Z=[];if(c&&o){j=a(Array(Number(c))).map((function(e,n){return{id:n,label:"\u65b0\u5165\u793e\u54e1".concat(n+1),tmpPreference:a(Array(Number(o))).map((function(e,n){return{id:n,active:!0}}))}}));Z=a(Array(Number(o))).map((function(e,n){return{id:n,label:"\u914d\u5c5e\u5148".concat(n+1),capacity:c,tmpPreference:a(Array(Number(c))).map((function(e,n){return{id:n,active:!0}}))}}))}function y(){return(y=(0,i.Z)(l().mark((function r(){var t;return l().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n.candidate_set=m.map((function(e,n){return{label:e.label,preference:a(e.tmpPreference.filter((function(e){return e.active})).map((function(e){return b.find((function(n){return n.id===e.id})).label})))}})),n.destination_set=b.map((function(e,n){return{label:e.label,capacity:e.capacity,preference:a(e.tmpPreference.filter((function(e){return e.active})).map((function(e){return m.find((function(n){return n.id===e.id})).label})))}})),r.next=4,W().post("".concat(ee.H,"/api/project/"),re({},n));case 4:t=r.sent,e.push({pathname:"/history/detail/",query:{id:t.data.id}});case 6:case"end":return r.stop()}}),r)})))).apply(this,arguments)}function g(e,n){x(b.map((function(r,t){return t===n&&(r.capacity=e),r})))}return(0,f.useEffect)((function(){h(j),x(Z)}),[]),(0,w.jsxs)(s.A,{title:n.label,children:[(0,w.jsx)("div",{className:"text-center",children:(0,w.jsx)(L.Z,{color:"red",variant:"h5",children:"\u500b\u4eba\u60c5\u5831\u306f\u5165\u529b\u3057\u306a\u3044\u3067\u304f\u3060\u3055\u3044"})}),(0,w.jsx)(L.Z,{variant:"h6",children:"\u5019\u88dc\u8005:"}),(0,w.jsx)("div",{className:"flex mt-2",children:m.map((function(e,n){return(0,w.jsxs)(u.s,{children:[(0,w.jsx)(T.Z,{variant:"outlined",defaultValue:e.label,onChange:function(e){!function(e,n){h(m.map((function(r,t){return t===n&&(r.label=e),r})))}(e.target.value,n)}}),(0,w.jsx)(G.Z,{className:"mt-2 mb-1"}),"\u5e0c\u671b\u9806",(0,w.jsx)("div",{className:"mt-2",children:e.tmpPreference.map((function(r,t){var i=b.find((function(e){return e.id===r.id})).label;return(0,w.jsxs)(K.Z,{variant:"outlined",className:"mt-1",children:[(0,w.jsx)(q,{checked:r.active,onChange:function(e){return r=e.target.checked,i=n,c=t,void h(m.map((function(e,n){return n===i&&(e.tmpPreference[c].active=r),e})));var r,i,c}}),i,(0,w.jsxs)("div",{children:[(0,w.jsx)(Q.Z,{"aria-label":"down",size:"large",onClick:function(){return e=n,r=t,void h(m.map((function(n,t){if(t===e){var i,c=n.tmpPreference.splice(r,1);(i=n.tmpPreference).splice.apply(i,[r+1,0].concat(a(c)))}return n})));var e,r},disabled:t===e.tmpPreference.length-1,children:(0,w.jsx)(X.Z,{})}),(0,w.jsx)(Q.Z,{"aria-label":"up",size:"large",onClick:function(){return e=n,r=t,void h(m.map((function(n,t){if(t===e){var i,c=n.tmpPreference.splice(r,1);(i=n.tmpPreference).splice.apply(i,[r-1,0].concat(a(c)))}return n})));var e,r},disabled:0===t,children:(0,w.jsx)(Y.Z,{})})]})]},"innerC-".concat(t))}))})]},"cand-".concat(n))}))}),(0,w.jsx)(G.Z,{className:"my-4"}),(0,w.jsx)(L.Z,{variant:"h6",children:"\u914d\u5c5e\u5148:"}),(0,w.jsx)("div",{className:"flex mt-2",children:b.map((function(e,n){return(0,w.jsxs)(u.s,{children:[(0,w.jsx)(T.Z,{variant:"outlined",defaultValue:e.label,onChange:function(e){!function(e,n){x(b.map((function(r,t){return t===n&&(r.label=e),r})))}(e.target.value,n)}}),(0,w.jsxs)("div",{className:"text-center my-2",children:[(0,w.jsxs)("div",{children:["\u6700\u5927\u6570: ",e.capacity]}),(0,w.jsx)(Q.Z,{"aria-label":"down",size:"large",onClick:function(){return g(e.capacity-1,n)},disabled:e.capacity<=1,children:(0,w.jsx)(X.Z,{})}),(0,w.jsx)(Q.Z,{"aria-label":"up",size:"large",onClick:function(){return g(e.capacity+1,n)},disabled:e.capacity>=c,children:(0,w.jsx)(Y.Z,{})})]}),(0,w.jsx)(G.Z,{className:"mt-2 mb-1"}),"\u5e0c\u671b\u9806",(0,w.jsx)("div",{children:e.tmpPreference.map((function(r,t){var i=m.find((function(e){return e.id===r.id})).label;return(0,w.jsxs)(K.Z,{className:"mt-1",variant:"outlined",children:[(0,w.jsx)(q,{checked:r.active,onChange:function(e){return r=e.target.checked,i=n,c=t,void x(b.map((function(e,n){return n===i&&(e.tmpPreference[c].active=r),e})));var r,i,c}}),i,(0,w.jsxs)("div",{children:[(0,w.jsx)(Q.Z,{"aria-label":"down",size:"large",onClick:function(){return e=n,r=t,void x(b.map((function(n,t){if(t===e){var i,c=n.tmpPreference.splice(r,1);(i=n.tmpPreference).splice.apply(i,[r+1,0].concat(a(c)))}return n})));var e,r},disabled:t===e.tmpPreference.length-1,children:(0,w.jsx)(X.Z,{})}),(0,w.jsx)(Q.Z,{"aria-label":"up",size:"large",onClick:function(){return e=n,r=t,void x(b.map((function(n,t){if(t===e){var i,c=n.tmpPreference.splice(r,1);(i=n.tmpPreference).splice.apply(i,[r-1,0].concat(a(c)))}return n})));var e,r},disabled:0===t,children:(0,w.jsx)(Y.Z,{})})]})]},"innerD-".concat(t))}))})]},"dest-".concat(n))}))}),(0,w.jsx)("div",{className:"mt-8"}),(0,w.jsx)(U.Z,{variant:"outlined",onClick:function(){return y.apply(this,arguments)},size:"large",children:"\u767b\u9332"})]})}},4368:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/create/setting",function(){return r(4129)}])},214:function(e){e.exports={container:"Home_container__bCOhY",main:"Home_main__nLjiQ",footer:"Home_footer____T7K",title:"Home_title__T09hD",description:"Home_description__41Owk",code:"Home_code__suPER",grid:"Home_grid__GxQ85",card:"Home_card___LpL1",logo:"Home_logo__27_tb"}}},function(e){e.O(0,[829,646,438,27,774,888,179],(function(){return n=4368,e(e.s=n);var n}));var n=e.O();_N_E=n}]);